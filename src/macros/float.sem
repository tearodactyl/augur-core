# Copyright (C) 2015 Forecast Foundation OU, full GPL notice in LICENSE

inset('safeMath.sem')

macro safeFxpMul($x, $y):
    if(!safeToMultiply($x, $y)):
        ~invalid()
    $x * $y / 10 ** 18

macro safeFxpDiv($x, $y):
    if($y == 0 or !safeToMultiply($x, 10 ** 18)):
        ~invalid()
    $x * 10 ** 18 / $y

macro unfix($x):
    $x / 10 ** 18

macro fix($x):
    $x * 10 ** 18